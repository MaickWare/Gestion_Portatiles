{% extends 'base.html' %}
{% block title %}Registro de Propietario | CDATH{% endblock %}
{% block content %}
<div class="container my-4">
    <h2 class="text-success mb-4">Registro de Propietario</h2>
    
    <div class="card shadow-sm">
        <div class="card-body">
            <form method="POST" class="row g-3" id="registroForm">
                <div class="col-md-6">
                    <label class="form-label">Documento</label>
                    <input type="text" class="form-control" name="documento" 
                           placeholder="Ej: 123456789" required pattern="\d{8,15}" 
                           title="Solo números (8-15 dígitos)" maxlength="15">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Nombres</label>
                    <input type="text" class="form-control" name="nombres" 
                           placeholder="Ej: Juan Carlos" required 
                           pattern="[A-Za-zÁÉÍÓÚáéíóúñÑ\s]{2,50}" 
                           title="Solo letras (2-50 caracteres)">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Apellidos</label>
                    <input type="text" class="form-control" name="apellidos" 
                           placeholder="Ej: Pérez López" required 
                           pattern="[A-Za-zÁÉÍÓÚáéíóúñÑ\s]{2,50}" 
                           title="Solo letras (2-50 caracteres)">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Celular</label>
                    <input type="tel" class="form-control" name="celular" 
                           placeholder="Ej: 3101234567" required pattern="\d{10}" 
                           title="10 dígitos numéricos">
                </div>
                <div class="col-12">
                    <label class="form-label">Dirección</label>
                    <input type="text" class="form-control" name="direccion" 
                           placeholder="Ej: Calle 123 #45-67" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Correo Electrónico</label>
                    <input type="email" class="form-control" name="correo" 
                           placeholder="correo@ejemplo.com" required 
                           pattern="[^@\s]+@[^@\s]+\.[^@\s]+" 
                           title="Ingrese un correo válido">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Marca del Portátil</label>
                    <input type="text" class="form-control" name="marca" 
                           placeholder="Ej: HP, Dell, Lenovo" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Número de Serie</label>
                    <input type="text" class="form-control" name="serie" 
                           placeholder="Ej: ABC123XYZ" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Código QR/Barra</label>
                    <div class="input-group">
                        <input type="text" class="form-control" name="codigo_qr" 
                               id="codigoQr" readonly>
                        <button class="btn btn-success" type="button" 
                                onclick="generarCodigo()">Generar Código</button>
                    </div>
                    <small class="text-muted">Este código se asignará al portátil</small>
                </div>
                <div class="col-12 mt-4">
                    <button type="submit" class="btn btn-success">Registrar Propietario</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
function generarCodigo() {
    // Genera un código alfanumérico único
    const codigo = 'CDATH-' + Math.random().toString(36).substr(2, 8).toUpperCase();
    document.getElementById('codigoQr').value = codigo;
}
</script>
{% endblock %}